library(tidyverse)
library(tidymodels)

knitr::opts_knit$set(
    concordance = TRUE,
    self.contained = FALSE
)

knitr::opts_chunk$set(
    fig.align = "center",
    fig.width = 4,
    fig.height = 3,
    fig.pos = "htbp",
    cache = TRUE,
    cache.path = "knitr/cache/",
    fig.path = "knitr/figure/",
    message = F # don't show messages/warnings in output
)

if (knitr::opts_knit$get("rmarkdown.pandoc.to") %>% is.null()) {
    options(digits = 3)
}

options(
    width = 60,
    knitr.digits.signif = T
)

ggplot2::theme_set(ggplot2::theme_bw())

# --- USEFUL FUNCTIONS ---
plot_residuals <- function(model) {
    model %>%
        augment() %>%
        ggplot(aes(.fitted, .std.resid)) +
        geom_point()
}
